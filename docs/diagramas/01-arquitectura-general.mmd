graph TB
    subgraph "FRONTEND - Next.js + React 19"
        WEB["ðŸŒ Web App\n(Desktop)"]
        PWA["ðŸ“± PWA Mobile\n(Chofer / CA)"]
    end

    subgraph "BACKEND - Next.js API Routes"
        API_EST["Estado Unidad API"]
        API_CARGA["Estado Carga API"]
        API_GPS["GPS API"]
        API_DOC["DocumentaciÃ³n API"]
        API_RED["Red Nodexia API"]
        API_CA["Control Acceso API"]
        API_ADMIN["Admin APIs"]
        API_TRANSP["Transporte API"]
    end

    subgraph "SUPABASE"
        DB[(PostgreSQL)]
        AUTH["Auth (JWT)"]
        STORAGE["Storage\n(Remitos, Docs)"]
        RLS["Row Level Security"]
        CRON["pg_cron\n(cada 5 min)"]
        EDGE["Edge Functions\n(cada 15 min)"]
    end

    WEB --> API_EST & API_CARGA & API_RED & API_ADMIN
    PWA --> API_EST & API_GPS & API_CA
    API_EST & API_CARGA & API_GPS & API_DOC --> DB
    API_RED & API_CA & API_ADMIN & API_TRANSP --> DB
    API_DOC --> STORAGE
    CRON --> DB
    EDGE --> DB
    AUTH --> RLS
